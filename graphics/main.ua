Img ← ↯:0

# [y0_x0 y1_x1] format
M ← /÷/-        # slope
R ← □⇡+1⌵/-⊢⍉   # range
D ← ⊏/<≡(/+×.). # nearest to origin

Line ← ⊃∘(≡(⍉+□⊟:∩°□×,⊃(M|R|D))[⊃(≡⇌|∘)]) ⊏⍏.

Line [7_3 4_3]
