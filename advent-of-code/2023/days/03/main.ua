⊐⊜∘≠@\n.&fras "input.txt"

S ← "+!@#$%^/&*-="
D ← +@0⇡10
Pad ← ⍥(⇌⍉≡⊂0)4
Adjacent ← ≡≡(/↥/↥)◫3_3 Pad

Silver ← /+⊜parse∩♭×⍥(⊙(Adjacent×).)2⊃(∊:D|Adjacent ∊:S).

Gold ← ×⍥(⊙(Adjacent×).)3⊃(∊:D|Adjacent ×≡≡(>1/+/+)◫3_3 Pad ⊃(∊:D|=@*))
# /+≡/×↯¯1_2
⊜parse∩♭Gold.
